requirejs.config({
	baseUrl: '',
	paths: {
		"argon2"                          : 'third-party/argon2/argon2-asm.min',
		"jquery"                          : 'third-party/jquery/jquery.min',
		"jquery-ui"                       : 'third-party/jquery/plugins/jquery-ui/jquery-ui.min',
		"jquery-validate"                 : 'third-party/jquery/plugins/jquery.validate',
		"jquery-datetime"                 : 'third-party/jquery/plugins/jquery-datetimepicker/jquery.datetimepicker.full',
		"jquery-mousewheel"               : 'third-party/jquery/plugins/jquery-mousewheel',
		"jquery-tinycolorpicker"          : 'third-party/tinycolorpicker/jquery.tinycolorpicker',
		"jquery-dropzone"                 : 'third-party/dropzone/dropzone',
		"bootstrap"                       : 'third-party/bootstrap/js/bootstrap.bundle.min',
		"dataTables"                      : 'third-party/datatables/datatables.min',
		"datatables.net"                  : 'third-party/datatables/DataTables-1.11.5/js/jquery.dataTables',
		"dataTables.net-bs"               : 'third-party/datatables/DataTables-1.11.5/js/dataTables.bootstrap',
        "dataTables.net-responsive"       : 'third-party/datatables/Responsive-2.2.9/js/dataTables.responsive',
        "domReady"                        : 'third-party/requirejs/domReady',
		"moment"                          : 'third-party/moment/moment-with-locales',
		"leaflet"                         : 'third-party/leaflet/leaflet',
		"leaflet-editable"                : 'third-party/leaflet/plugins/Leaflet.Editable/src/Leaflet.Editable',
		"leaflet-pathdrag"                : 'third-party/leaflet/plugins/Path.Drag.js/src/Path.Drag',
		"leaflet-pathtransform"           : 'third-party/leaflet/plugins/Path.Transform.js/L.Path.Transform',
		"leaflet-customcontrol"           : 'third-party/leaflet/plugins/Leaflet.Control.Custom/Leaflet.Control.Custom',
		"leaflet-sidebar"                 : 'third-party/leaflet/plugins/leaflet-sidebar-v2/js/leaflet-sidebar.min',
		"popper"                          : 'third-party/popper/popper.min',
		"select2"                         : 'third-party/select2/js/select2.min',
		"summernote"                      : 'third-party/summernote/summernote.min',
		"wavesurfer"					  : 'third-party/wavesurferjs/wavesurfer.min',
        "eventsource"                     : 'third-party/eventsource/eventsource.min',
		"TIMAAT"                          : 'js/timaat.main',
		"TIMAAT-entityupdate"			  : 'js/timaat.entityupdate',
		"TIMAAT-html"                     : 'js/timaat.html',
		"TIMAAT-URLHistory"               : 'js/timaat.url',
		"TIMAAT-ui"                       : 'js/ui/timaat.ui',
		"TIMAAT-ui-inspector"             : 'js/ui/timaat.inspector',
		"TIMAAT-ui-timeline"              : 'js/ui/timaat.timeline',
		"TIMAAT-uploadManager"            : 'js/components/timaat.uploadmanager',
		"TIMAAT-videoPlayer"              : 'js/components/timaat.component.videoplayer',
		"TIMAAT-settings"                 : 'js/components/timaat.component.settings',
		"TIMAAT-userSettings"             : 'js/components/timaat.component.usersettings',
		"TIMAAT-datasets"                 : 'js/datasets/timaat.datasets',
		"TIMAAT-actorDatasets"            : 'js/datasets/timaat.datasets.actor',
		"TIMAAT-analysisDatasets"         : 'js/datasets/timaat.datasets.analysis',
		"TIMAAT-eventDatasets"            : 'js/datasets/timaat.datasets.event',
		"TIMAAT-locationDatasets"         : 'js/datasets/timaat.datasets.location',
		"TIMAAT-mediumDatasets"           : 'js/datasets/timaat.datasets.medium',
		"TIMAAT-mediumCollectionDatasets" : 'js/datasets/timaat.datasets.mediumcollection',
		"TIMAAT-musicDatasets"            : 'js/datasets/timaat.datasets.music',
		"TIMAAT-lists"                    : 'js/datasets/timaat.lists',
		"TIMAAT-roleLists"                : 'js/datasets/timaat.lists.role',
		"TIMAAT-categoryLists"            : 'js/datasets/timaat.lists.category',
		"TIMAAT-languageLists"            : 'js/datasets/timaat.lists.language',
		"TIMAAT-tagLists"                 : 'js/datasets/timaat.lists.tag',
		"TIMAAT-service"                  : 'js/service/timaat.service',
		"TIMAAT-userService"              : 'js/service/timaat.service.usersettings',
		"TIMAAT-publicationService"       : 'js/service/timaat.service.publication',
		"TIMAAT-categoryService"          : 'js/service/timaat.service.category',
		"TIMAAT-categorySetService"       : 'js/service/timaat.service.categoryset',
		"TIMAAT-actorService"             : 'js/service/timaat.service.actor',
		"TIMAAT-analysisService"          : 'js/service/timaat.service.analysis',
		"TIMAAT-analysisListService"      : 'js/service/timaat.service.analysislist',
		"TIMAAT-annotationService"        : 'js/service/timaat.service.annotation',
		"TIMAAT-roleService"              : 'js/service/timaat.service.role',
		"TIMAAT-languageService"          : 'js/service/timaat.service.language',
		"TIMAAT-locationService"          : 'js/service/timaat.service.location',
		"TIMAAT-mediumService"            : 'js/service/timaat.service.medium',
		"TIMAAT-mediumCollectionService"  : 'js/service/timaat.service.mediumcollection',
		"TIMAAT-eventService"             : 'js/service/timaat.service.event',
		"TIMAAT-musicService"             : 'js/service/timaat.service.music',
		"TIMAAT-util"                     : 'js/timaat.util',
		"TIMAAT-marker"                   : 'js/model/timaat.marker',
		"TIMAAT-keyframe"                 : 'js/model/timaat.keyframe',
		"TIMAAT-annotation"               : 'js/model/timaat.annotation',
		"TIMAAT-category"                 : 'js/model/timaat.model.category',
		"TIMAAT-categorySet"              : 'js/model/timaat.model.categoryset',
		"TIMAAT-analysisSegment"          : 'js/model/timaat.model.analysissegment',
		"TIMAAT-analysisSequence"         : 'js/model/timaat.model.analysissequence',
		"TIMAAT-analysisTake"             : 'js/model/timaat.model.analysistake',
		"TIMAAT-analysisScene"            : 'js/model/timaat.model.analysisscene',
		"TIMAAT-analysisAction"           : 'js/model/timaat.model.analysisaction',
		"TIMAAT-actor"                    : 'js/model/timaat.model.actor',
		"TIMAAT-actorType"                : 'js/model/timaat.model.actortype',
		"TIMAAT-role"                     : 'js/model/timaat.model.role',
		"TIMAAT-roleGroup"                : 'js/model/timaat.model.rolegroup',
		"TIMAAT-language"                 : 'js/model/timaat.model.language',
		"TIMAAT-addressType"              : 'js/model/timaat.model.addresstype',
		"TIMAAT-emailAddressType"         : 'js/model/timaat.model.emailaddresstype',
		"TIMAAT-event"                    : 'js/model/timaat.model.event',
		"TIMAAT-medium"                   : 'js/model/timaat.model.medium',
		"TIMAAT-mediumCollection"         : 'js/model/timaat.model.mediumcollection',
		"TIMAAT-music"                    : 'js/model/timaat.model.music',
		"TIMAAT-musicArticulationElement" : 'js/model/timaat.model.musicArticulationElement',
		"TIMAAT-musicChangeInTempoElement": 'js/model/timaat.model.musicChangeInTempoElement',
		"TIMAAT-musicDynamicsElement"		  : 'js/model/timaat.model.musicDynamicsElement',
		"TIMAAT-musicTextSettingElement"  : 'js/model/timaat.model.musicTextSettingElement',
		"TIMAAT-musicFormElement"         : 'js/model/timaat.model.musicFormElement',
		"TIMAAT-mediumType"               : 'js/model/timaat.model.mediumtype',
		"TIMAAT-location"                 : 'js/model/timaat.model.location',
		"TIMAAT-locationType"             : 'js/model/timaat.model.locationtype',
		"TIMAAT-country"                  : 'js/model/timaat.model.location.country',
		"TIMAAT-province"                 : 'js/model/timaat.model.location.province',
		"TIMAAT-county"                   : 'js/model/timaat.model.location.county',
		"TIMAAT-city"                     : 'js/model/timaat.model.location.city',
		"TIMAAT-street"                   : 'js/model/timaat.model.location.street',
	},
	shim: {
		'jquery'                : { exports: 'jquery' },
		'jquery-ui'             : { deps: [ 'jquery' ], exports: 'jQuery.ui' },
		'jquery-validate'       : { deps: [ 'jquery' ], exports: 'jQuery.validate' },
		'jquery-datetime'       : { deps: [ 'jquery' ], exports: 'jQuery.datetimepicker' },
		'jquery-tinycolorpicker': { deps: [ 'jquery' ], exports: 'jQuery.tinycolorpicker' },
		'jquery-dropzone'       : { deps: [ 'jquery' ], exports: 'jQuery.dropzone' },
		'bootstrap'             : { deps: [ 'jquery', 'jquery-ui' ], },
		'moment'                : { deps: [ 'jquery' ], exports: 'moment' },
		'dataTables'            : { deps: [ 'bootstrap', 'jquery' ], exports: 'dataTables' },
		'summernote'            : { deps: [ 'bootstrap', 'jquery', 'jquery-ui' ], exports: 'summernote' },
		'leaflet-editable'      : { deps: [ 'leaflet' ], },
		'leaflet-pathdrag'      : { deps: [ 'leaflet' ], exports: 'L.PathDraggable' },
		'leaflet-pathtransform' : { deps: [ 'leaflet', 'leaflet-pathdrag' ], },
		'leaflet-customcontrol' : { deps: [ 'leaflet' ], },
		'leaflet-sidebar'       : { deps: [ 'leaflet' ], },
        'eventsource'           : { exports: 'EventSourcePolyfill' }
	},
	packages: [{
		name    : 'moment',
		location: 'third-party/moment',
		main    : 'moment'
	}],
});

require(['domReady',
	'jquery',
	'jquery-ui',
	'jquery-validate',
	'jquery-datetime',
	'jquery-tinycolorpicker',
	'jquery-dropzone',

	'popper',
	'bootstrap',
	'select2',
	'summernote',
	'argon2',
	'leaflet',
	'leaflet-editable',
	'leaflet-pathdrag',
//	'leaflet-pathtransform',
	'leaflet-customcontrol',
	'leaflet-sidebar',
	], function (domReady) { domReady(function () {
	  console.info("TIMAAT::Init");
		requirejs([
			'moment',
            'dataTables.net-responsive',
            'dataTables.net-bs',
            'datatables.net',
			'TIMAAT',
			'TIMAAT-entityupdate',
			'TIMAAT-html',
			'TIMAAT-URLHistory',
			'TIMAAT-ui',
			'TIMAAT-ui-inspector',
			'TIMAAT-ui-timeline',
			'TIMAAT-uploadManager',
			'TIMAAT-videoPlayer',
			'TIMAAT-settings',
			'TIMAAT-userSettings',
			'TIMAAT-util',
			'TIMAAT-datasets',
			'TIMAAT-lists',
			'TIMAAT-service',
			'TIMAAT-userService',
			'TIMAAT-publicationService',
			'TIMAAT-marker',
			'TIMAAT-keyframe',
			'TIMAAT-annotation',
			'TIMAAT-annotationService',
			'TIMAAT-analysisSegment',
			'TIMAAT-analysisSequence',
			'TIMAAT-analysisTake',
			'TIMAAT-analysisScene',
			'TIMAAT-analysisAction',
			'TIMAAT-actor',
			'TIMAAT-actorDatasets',
			'TIMAAT-actorService',
			'TIMAAT-actorType',
			'TIMAAT-addressType',
			'TIMAAT-emailAddressType',
			'TIMAAT-analysisDatasets',
			'TIMAAT-analysisListService',
			'TIMAAT-analysisService',
			'TIMAAT-category',
			'TIMAAT-categorySet',
			'TIMAAT-categoryLists',
			'TIMAAT-categoryService',
			'TIMAAT-categorySetService',
			'TIMAAT-event',
			'TIMAAT-eventDatasets',
			'TIMAAT-eventService',
			'TIMAAT-language',
			'TIMAAT-languageLists',
			'TIMAAT-languageService',
			'TIMAAT-location',
			'TIMAAT-locationDatasets',
			'TIMAAT-locationService',
			'TIMAAT-locationType',
			'TIMAAT-country',
			'TIMAAT-province',
			'TIMAAT-county',
			'TIMAAT-city',
			'TIMAAT-street',
			'TIMAAT-medium',
			'TIMAAT-mediumDatasets',
			'TIMAAT-mediumService',
			'TIMAAT-mediumType',
			'TIMAAT-mediumCollection',
			'TIMAAT-mediumCollectionDatasets',
			'TIMAAT-mediumCollectionService',
			'TIMAAT-music',
			'TIMAAT-musicArticulationElement',
			'TIMAAT-musicChangeInTempoElement',
			'TIMAAT-musicDynamicsElement',
			'TIMAAT-musicTextSettingElement',
			'TIMAAT-musicFormElement',
			'TIMAAT-musicDatasets',
			'TIMAAT-musicService',
			'TIMAAT-role',
			'TIMAAT-roleGroup',
			'TIMAAT-roleLists',
			'TIMAAT-roleService',
			'TIMAAT-tagLists',
		  ], function (moment) {
		  console.info("TIMAAT::Setup");
		  window.moment = moment;
		  // init UI
		  TIMAAT.UI.init();
			console.info("TIMAAT::Ready");
		});
  });
});
